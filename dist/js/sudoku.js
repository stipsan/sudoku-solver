!function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="js/",n(0)}([function(){function t(t,n,e){t=t.replace("#","").toUpperCase(),n=n.replace("#","").toUpperCase();var r,o,s,i,a=new Array(e),c={r:0,g:0,b:0},f={r:0,g:0,b:0},u={r:0,g:0,b:0};for(c.r=parseInt(t.substr(0,2),16),c.g=parseInt(t.substr(2,2),16),c.b=parseInt(t.substr(4,2),16),f.r=parseInt(n.substr(0,2),16),f.g=parseInt(n.substr(2,2),16),f.b=parseInt(n.substr(4,2),16),u.r=(f.r-c.r)/e,u.g=(f.g-c.g)/e,u.b=(f.b-c.b)/e,a[0]="#"+t,r=1;e-1>r;r++)o=Math.round(c.r+r*u.r).toString(16),s=Math.round(c.g+r*u.g).toString(16),i=Math.round(c.b+r*u.b).toString(16),o=2!=o.length?"0"+o:o,s=2!=s.length?"0"+s:s,i=2!=i.length?"0"+i:i,a[r]="#"+(o+s+i).toUpperCase();return a[e-1]="#"+n,a}window.addEvent("domready",function(){var t=e();document.addEvent("keydown",function(n){return t.keyStroke(n.code)}),document.id("sudoku").getElements("td").each(function(n){n.get("id")&&n.addEvent("click",function(){t.setSelected(+this.id.charAt(1),+this.id.charAt(2))})})});var n=function(t){this.set=0,this.length=0,t instanceof Array?this.add(t):t&&(this.set=t,this.length=this.calcLength())};n.prototype={clear:function(t){return this.set=0,this.length=0,t&&this.add(t),this},add:function(t){return t=t instanceof Array?t:[t],t.each(function(t){this.contains(t)||(this.set|=1<<t-1,this.length++)},this),this},remove:function(t){return t=t instanceof Array?t:[t],t.each(function(t){this.contains(t)&&(this.set&=~(1<<t-1),this.length--)},this),this},contains:function(t){return!!(this.set&1<<t-1)},union:function(t,n){return this.finish(this.set|t.set,n)},intersection:function(t,n){return this.finish(this.set&t.set,n)},difference:function(t,n){return this.finish(this.set&~t.set,n)},equals:function(t){return this.set==t.set},calcLength:function(){return this.toArray().length},finish:function(t,e){return e?(this.set=t,this.length=this.calcLength(),this):new n(t)},toString:function(t){return this.toArray().join(t||"")},toArray:function(){for(var t=this.set,n=[],e=0;t;e++,t>>=1)1==(1&t)&&n.push(e+1);return n}};var e=function(){var e,r,o,s,i,a,c,f,u,h,l,d=t("F08080","90EE90",101),g=1,v=1,p=function(t){switch(t){case"backspace":m(),C();break;case"left":b(g,1==v?9:v-1);break;case"up":b(1==g?9:g-1,v);break;case"right":b(g,9==v?1:v+1);break;case"down":b(9==g?1:g+1,v);break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":w(t),C();break;case"c":D();break;case"d":y()}},b=function(t,n){e[g][v].removeClass("selected"),g=t,v=n,e[g][v].addClass("selected")},m=function(){e[g][v].removeClass("user-defined").erase("html")},w=function(t){e[g][v].set({"class":"user-defined selected",html:t})},j=function(){a<current_demo.length?p(s[current_demo[a++]]):S()},y=function(){i?S():(S(),D(),current_demo=c[Math.floor(Math.random()*c.length)],a=0,i=setInterval(j,150))},S=function(){i&&clearInterval(i),i=null},A=function(){return!!i},C=function(){if(I()){for(;E(););x()}M()},I=function(){for(var t=1;10>t;t++)for(var n=1;10>n;n++){var o=e[t][n],s=r[t][n];o.hasClass("user-defined")?s.clear(+o.get("html")):s.add([1,2,3,4,5,6,7,8,9]),o.erase("html")}return!x()},M=function(){for(var t,n,o,s,i=0,a=1;10>a;a++)for(var c=1;10>c;c++)if(t=e[a][c],t.erase("html"),n=r[a][c],o=n.length,1==o)t.set("html",n.toString("")),i++;else{s="",n=n.toArray();for(var f=1,u=0;9>=f;f++)s+=n[u]==f?n[u++].toString():" ",s+=f%3==0?"\n":" ";new Element("pre",{text:s}).inject(t)}i=Math.round(i/81*100),G(i)},x=function(){var t,r,s=!1,i=function(t){var e,r,o=new n,s=0;if(r=t.some(function(t){return e=t.candidates,1==e.length&&(o=o.union(e),s++),o.length!=s?!0:!1}))for(var i=0;9>i;i++)t[i].cell.addClass("error");return r};for(t=1;9>=t;t++)for(r=1;9>=r;r++)e[t][r].removeClass("error");for(t=1;3>=t;t++)for(r=1;3>=r;r++)s=i(o.blocks[t][r])||s;for(t=1;9>=t;t++)s=i(o.rows[t])||i(o.cols[t])||s;return s},E=function(){var t=["blocks","rows","cols"],n=[q,L,U,F,$,z],e=!1;return e=n.some(function(n){return t.some(function(t){return _(t,n)})}),e?!0:B()?!0:!1},_=function(t,n){var e,r,s=!1;if("blocks"==t)for(e=1;3>=e;e++)for(r=1;3>=r;r++)s=n(o[t][e][r])||s;else for(e=1;9>=e;e++)s=n(o[t][e])||s;return s},q=function(t){var e,r,o,s=new n,i=!1;for(o=0;9>o;o++)1==t[o].candidates.length&&(s=s.union(t[o].candidates));for(o=0;9>o;o++)e=t[o].candidates,r=e.length,1!=r&&(e.difference(s,!0),i=e.length!=r||i);return i},L=function(t){for(var n,e,r,o=!1,s=1;9>=s;s++){r=0;for(var i=0;9>i&&(e=t[i].candidates,1!=e.length&&e.contains(s)&&(n=e,r++),!(r>1));i++);1==r&&(n.clear(s),o=!0)}return o},U=function(t){for(var n,e,r,o=!1,s=0;8>s;s++)if(e=t[s].candidates,2==e.length)for(var i=s+1;9>i;i++)if(r=t[i].candidates,2==r.length&&e.equals(r))for(var a=0;9>a;a++)n=t[a].candidates,a==s||a==i||n.length<=2||0!=n.intersection(e).length&&(o=!0,n.difference(e,!0));return o},F=function(t){var n,e,r,o,s,i=!1;for(f=0;7>f;f++)if(e=t[f].candidates,!(e.length<2))for(u=f+1;8>u;u++)if(r=t[u].candidates,!(r.length<2))for(k=u+1;k<9;k++)if(o=t[k].candidates,!(o.length<2)&&(s=e.union(r.union(o)),3==s.length))for(var a=0;9>a;a++)n=t[a].candidates,a==f||a==u||a==k||n.length<2||0!=n.intersection(s).length&&(i=!0,n.difference(s,!0));return i},$=function(t){var e,r,o,s,i=!1,a=[];for(r=1;9>=r;r++)for(a[r]=new n,s=0;9>s;s++)e=t[s].candidates,1!=e.length&&e.contains(r)&&a[r].add(s+1);for(r=1;8>=r;r++)if(2==a[r].length)for(o=r+1;9>=o;o++)if(a[r].equals(a[o]))for(s=0;9>s;s++)e=t[s].candidates,a[r].contains(s+1)&&e.length>2&&(i=!0,e.intersection(new n([r,o]),!0));return i},z=function(t){var e,r,o,s,i,a,c,f,u,h=!1,l=[];for(a=1;9>=a;a++)for(l[a]=new n,u=0;9>u;u++)e=t[u].candidates,1!=e.length&&e.contains(a)&&l[a].add(u+1);for(a=1;7>=a;a++)if(!(l[a].length<=1))for(c=a+1;8>=c;c++)if(!(l[c].length<=1))for(f=c+1;9>=f;f++)if(!(l[f].length<=1)&&(r=l[a].union(l[c].union(l[f])),3==r.length))for(u=0;9>u;u++)e=t[u].candidates,o=l[a].contains(u+1),s=l[c].contains(u+1),i=l[f].contains(u+1),e.length>1&&(o||s||i)&&e.length>o+s+i&&(h=!0,e.intersection(new n([a,c,f]),!0));return h},B=function(){for(var t,n,e=[],r=[],s=1;3>=s;s++)for(var i=1;3>=i;i++){n=o.blocks[s][i];for(var a=1;9>=a;a++){t=[];for(var c=0;9>c;c++){var f=n[c],u=f.candidates,h=u.contains(a);if(h&&1==u.legnth)break;if(h&&(t.push(f.coords),t.length>3))break}if(pointers_length=t.length,!(1==u.legnth&&h||pointers_length<2||pointers_length>3)){var l={n:a,pointers:t};2==pointers_length?t[0].i==t[1].i?e.push(l):t[0].j==t[1].j&&r.push(l):t[0].i==t[1].i&&t[1].i==t[2].i?e.push(l):t[0].j==t[1].j&&t[1].j==t[2].j&&r.push(l)}}}if(0==e.length&&0==r.length)return!1;var d=function(n,e){for(var r,s,i,a,c,f,u=!1,h="rows"==e?"i":"j",l="rows"==e?"j":"i",d=0;d<n.length;d++){r=n[d].n,t=n[d].pointers,a=o[e][t[0][h]],s=10,i=-1;for(var g=0;g<t.length;g++)s=Math.min(t[g][l],s),i=Math.max(t[g][l],i);for(var v=0;9>v;v++)c=a[v].candidates,f=a[v].coords[l],(s>f||f>i)&&c.contains(r)&&(c.remove(r),u=!0)}return u};return d(e,"rows")||d(r,"cols")},D=function(){S(),G(0);for(var t=1;9>=t;t++)for(var n=1;9>=n;n++)e[t][n].set({"class":"",html:""});b(1,1)},G=function(t){document.id("bar").setStyles({width:t+"%","background-color":d[t]})},H=function(t){t.replace(/^\s|\s$/,"");{var n,e=/[1-9]/;t.length}D();for(var r=1;9>=r;r++)for(var o=1;9>=o;o++)n=t.charAt(o-1+9*(r-1)),e.test(n)&&(b(r,o),w(n));C()};for(e=[],r=[],f=1;9>=f;f++)for(e[f]=[],r[f]=[],u=1;9>=u;u++)e[f][u]=document.id("c"+f.toString()+u.toString()),r[f][u]=new n;for(o=[],o.rows=[],o.cols=[],f=1;9>=f;f++)for(o.rows[f]=[],o.cols[f]=[],u=1;9>=u;u++)o.rows[f].push({coords:{i:f,j:u},cell:e[f][u],candidates:r[f][u]}),o.cols[f].push({coords:{i:u,j:f},cell:e[u][f],candidates:r[u][f]});for(o.blocks=[],h=1;3>=h;h++)for(o.blocks[h]=[],l=1;3>=l;l++)for(o.blocks[h][l]=[],f=1;3>=f;f++){var J=f+3*(h-1);for(u=1;3>=u;u++){var K=u+3*(l-1);o.blocks[h][l].push({cell:e[J][K],coords:{i:J,j:K},candidates:r[J][K]})}}return s=[],s[8]="backspace",s[37]="left",s[38]="up",s[39]="right",s[40]="down",s[67]="c",s[68]="d",s[49]=s[97]="1",s[50]=s[98]="2",s[51]=s[99]="3",s[52]=s[100]="4",s[53]=s[101]="5",s[54]=s[102]="6",s[55]=s[103]="7",s[56]=s[104]="8",s[57]=s[105]="9",a=0,i=null,c=[[39,39,57,39,40,52,40,50,39,53,38,39,38,49,39,40,53,39,55,39,56,40,57,40,37,52,37,40,51,37,37,37,56,37,38,54,37,56,40,40,55,40,40,57,37,40,52,39,51,39,49,39,38,39,38,54,40,40,39,55,39,38,50,39,39,53],[53,39,39,57,39,51,40,56,39,39,39,39,39,38,55,40,40,49,37,53,37,54,40,39,39,53,40,37,49,37,55,40,50,37,37,54,38,50,38,39,49,37,37,37,37,37,52,40,40,49,40,39,52,39,56,40,53,37,54,40,57,39,39,38,52,39,56,38,39,57,39,39,55],[40,40,51,39,39,56,39,39,38,39,51,39,50,39,54,38,39,53,40,40,49,37,37,52,40,39,52,40,37,53,40,51,37,49,37,37,52,38,38,53,37,37,37,57,40,54,39,55,40,37,40,49,39,52,40,40,51,39,38,39,49,38,39,50,40,55,40,53,39,56],[40,56,39,57,39,52,39,40,57,39,39,53,38,38,54,39,39,50,40,37,53,40,39,49,39,52,40,40,49,37,53,37,37,51,38,50,37,37,56,37,37,37,53,40,40,52,40,40,40,51,39,38,38,50,38,54,39,51,40,56,39,38,49,39,40,55,40,37,50,40,39,39,39,50,39,57,39,38,53,38,37,37,49],[39,39,39,51,39,56,39,39,39,39,54,40,37,49,37,57,37,37,37,53,37,37,37,54,40,39,53,40,39,39,39,39,52,39,39,39,49,40,56,37,55,37,37,37,37,37,37,37,52,40,39,50,39,39,39,39,57,39,39,39,40,37,52,37,54,37,37,51,37,55,37,40,37,40,57,39,50,39,39,39,39,39,56],[49,40,51,39,38,39,55,39,40,40,49,39,39,38,50,39,52,39,57,39,40,51,40,52,37,37,37,37,49,37,37,54,40,39,52,40,39,53,39,39,39,50,40,40,40,37,53,37,38,56,38,37,54,37,55,40,51,40,37,37,52,37,38,53,39,38,57,38,56],[40,57,39,38,55,39,40,52,40,53,40,40,37,51,40,40,40,50,37,40,53,39,39,39,56,38,54,38,51,39,49,38,54,38,37,38,52,38,38,38,39,51,40,40,40,39,53,39,38,50,39,40,54,39,56,40,57,40,40,37,37,53,40,40,52,39,55]],D(),b(1,1),{setSelected:function(t,n){A()||b(t,n)},keyStroke:function(t){var n=s[t];return n?(A()?S():p(n),!1):!0},clear:D,fromString:H}}}]);